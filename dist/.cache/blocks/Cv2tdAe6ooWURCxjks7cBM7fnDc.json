{"obj_edit_time":"1747485175","blocks":[{"block_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","block_type":1,"children":["GjTRdBmEIoKcNUx8Lsyc4XeCnVf","EZL2dQMioo5mGDxRfLFcu8uVn6c","CgeldeGmBoEQIsxNGRTcpf4InXe","Ohrsd7snoow0NixWYe6cpND9n8b","AYhQdWo4WohogcxnZeAckCx2n3I","T8nudEo2MoVi51x8Ct2cyS7PnAc","Id8Ad3VironubZxEXTUciHAen0g","RaYMdmUWDoMDfKxZpxccgB2fnUh","Wd9Tdz8nooItpwxCzC6cGD9dn4b","DLQJdlyq9oDBxGx8qZmcUVRQnRb","TERJdHEMHoWLUuxYAvPcfXEBnXb","BSzidypYAoJeNix4MAOceQW4nWK","N4g4dRnqgoAfBvxPbmmcv7CPnsh","Xm5ldlE3eoOkDlxInzXcdXRSnUe","NNsHdUahUo5ESKxDclLcPeKanTg","BX3sddQbzodHtMxfnQCcJjSknuf","XAYHdEYnQo1A9vx66yLcuU9EnGc","WuyydjTmzoEm2Yx9n7zcnH7znnh","T9rHdgwYdoskeKx84CccMfmLn0c","GVuWd05RIo23Cex7krTcgFwKn5g","MKcfdlAyVoEYSrxPHfXcibLon8c","JquDdIUjaoozYYxiA92cIIOXnHc","MQGpdCIiVoSUZuxat66crjSyn5b","ZLD0dpd96oVFqrxJu9zcXkyvntc","KW2ldxnGfoXu3CxblAJcIyfYnXk","FBDjdhJpPoWZyAxE0bicNB0tnHb","WjMjd3ctBoES5Lx7qgfcwwfyn1c","V7rJd5RfXo0S7qxWgf7cmBFYnYf","HguGdSlatoaLpwxFnaCcIlD6nDg","Vk8Gd5Qi7oY8RNxG4fZcg0ZknIb","QB2ydsppZowgHPx4PB9c3kGvn2j","Nf4JdXcpmos7y2xx90DcAQM8nug","SZxRd1Hamogyf0xcaD1cLBtyned","HXW9da8TdoN0Qox0NQpcCkEWn5d","G4rOdbVdBoIjsnxeLBZcZRBfnO3","PhKCdb5kMooBoqxz1yXcGHvknMf","QJDxdnpa4oybHexRVWrcrLgjnDg","HOi0dnqLjo4IA6xqGdvcfWiXnwg","G4U7dvGgLo2XzIxbFcJckabyn1f","QlX4dlaAGoL9oPxqv00crDq6nWf","PXgNdnci3o0irwx0P3ucjxL7nog","AiUGdgAOyo75Mmxa1KecYDh5ntg","VtHOddKRVofAYgxEhkoc1jzBnog","TD3adbkoboa7haxO8HmcNRwknAg","WtPTdErJlo0aR3x6vaRcvgVYn2f","EUMJdF5ECobArLxljm0cqQconNE","OM6qdXBsSoYhtCxjZjGcNyimnAe","A3yXd2AAQotvd8xYnH6clumWnGf","Z4EudykZsoABPpxGttscdnWenKh","Tb6ddug5JohRR5xWGsdcvW2xncb","LZDQdyPYNoXiApxAbmAcKUufnVd","RZoddxnuzoeLnIxfKGscsp5Xnmg","MTX9d7yA6oDGxtxylSKcAb0bn9b","YVT6dOEfOo0bAEx5ptrc0i74nqO","B695dslwQoL6O8xtyjdcifmFn1g","OGm0dFAgboGszKxolQjcfT5xnIc","L4cNdDJkOo7yeaxFStOcaUIynog","OLXedtI5qoeF3Zxdh3pcwjHjnxh"],"page":{"elements":[{"text_run":{"content":"8.4.3 ChatSDK的会话隔离","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1}},"parent_id":""},{"block_id":"GjTRdBmEIoKcNUx8Lsyc4XeCnVf","block_type":50,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","reference_synced":{"source_block_id":"FzCbdbhnOsCT24b0rj8cniFmnCc","source_document_id":"V3fHdvfwIoScWWxqvo4ctMv7nUE"}},{"block_id":"EZL2dQMioo5mGDxRfLFcu8uVn6c","block_type":4,"heading2":{"elements":[{"text_run":{"content":"项目背景","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"CgeldeGmBoEQIsxNGRTcpf4InXe","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"经实际使用发现，当前ChatSDK存在聊天记录共享问题，具体表现为：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Ohrsd7snoow0NixWYe6cpND9n8b","block_type":13,"ordered":{"elements":[{"text_run":{"content":"不同用户点击后显示的聊天记录完全一致","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"AYhQdWo4WohogcxnZeAckCx2n3I","block_type":13,"ordered":{"elements":[{"text_run":{"content":"A用户发送的消息会实时显示在B用户的对话界面中","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"T8nudEo2MoVi51x8Ct2cyS7PnAc","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"此类跨用户的信息交叉显示存在严重的数据隔离缺陷，不符合隐私保护要求。针对该问题，技术团队已拟定解决方案。如对改进方案存在任何疑问，敬请随时与我们联系沟通。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Id8Ad3VironubZxEXTUciHAen0g","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"RaYMdmUWDoMDfKxZpxccgB2fnUh","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"授权流程如下：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Wd9Tdz8nooItpwxCzC6cGD9dn4b","block_type":13,"ordered":{"elements":[{"text_run":{"content":"在扣子平台创建 OAuth 应用。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"DLQJdlyq9oDBxGx8qZmcUVRQnRb","block_type":13,"ordered":{"elements":[{"text_run":{"content":"应用程序通过公钥和私钥签署 JWT。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"TERJdHEMHoWLUuxYAvPcfXEBnXb","block_type":13,"ordered":{"elements":[{"text_run":{"content":"应用程序通过 ","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":"通过 JWT 获取 Oauth Access Token","text_element_style":{"bold":false,"inline_code":false,"italic":false,"link":{"url":"https%3A%2F%2Fwww.coze.cn%2Fopen%2Fdocs%2Fdeveloper_guides%2Foauth_jwt%23a458f4b1"},"strikethrough":false,"underline":false}}},{"text_run":{"content":" API，获取访问令牌。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"BSzidypYAoJeNix4MAOceQW4nWK","block_type":13,"ordered":{"elements":[{"text_run":{"content":"应用程序根据访问令牌调用扣子 API。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"N4g4dRnqgoAfBvxPbmmcv7CPnsh","block_type":4,"heading2":{"elements":[{"text_run":{"content":"创建应用","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"Xm5ldlE3eoOkDlxInzXcdXRSnUe","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"首先，创建一个新应用","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"NNsHdUahUo5ESKxDclLcPeKanTg","block_type":27,"image":{"align":2,"height":869,"token":"PcLibjqwvo8qnRxPK7lcpWrKncc","width":1920},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"BX3sddQbzodHtMxfnQCcJjSknuf","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"客户端类型选择“服务类应用”，其他的随意","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"XAYHdEYnQo1A9vx66yLcuU9EnGc","block_type":27,"image":{"align":2,"height":633,"token":"GYx2b4HkPoH4B2xqEMXcbJuvnnd","width":1017},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"WuyydjTmzoEm2Yx9n7zcnH7znnh","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"创建Key，此时会自动下载一个文件。文件里面是私钥，","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"T9rHdgwYdoskeKx84CccMfmLn0c","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"红框中这一串是公钥，记住这两个值","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"GVuWd05RIo23Cex7krTcgFwKn5g","block_type":27,"image":{"align":2,"height":795,"token":"UbJNbGklCoNcfrxBbnWcBcJln3k","width":1028},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"MKcfdlAyVoEYSrxPHfXcibLon8c","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"权限根据自己的需要选择，如果调用Chat SDK的话，选择以下四个权限：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"JquDdIUjaoozYYxiA92cIIOXnHc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"Bot管理","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"MQGpdCIiVoSUZuxat66crjSyn5b","block_type":12,"bullet":{"elements":[{"text_run":{"content":"会话管理","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"ZLD0dpd96oVFqrxJu9zcXkyvntc","block_type":12,"bullet":{"elements":[{"text_run":{"content":"文件","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"KW2ldxnGfoXu3CxblAJcIyfYnXk","block_type":12,"bullet":{"elements":[{"text_run":{"content":"消息","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"FBDjdhJpPoWZyAxE0bicNB0tnHb","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"点击确定，此时会让你同意授权，继续点击确定","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"WjMjd3ctBoES5Lx7qgfcwwfyn1c","block_type":27,"image":{"align":2,"height":587,"token":"KrKMb3dLlo963rxoAemcGPlknYd","width":795},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"V7rJd5RfXo0S7qxWgf7cmBFYnYf","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"最后，记录住这个应用ID","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"HguGdSlatoaLpwxFnaCcIlD6nDg","block_type":27,"image":{"align":2,"height":437,"token":"ApBJbBe6coVC35xzlIGcibJXnKe","width":1551},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"Vk8Gd5Qi7oY8RNxG4fZcg0ZknIb","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"我们一个需要三个Key，分别是：应用ID、公钥、私钥","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"QB2ydsppZowgHPx4PB9c3kGvn2j","block_type":4,"heading2":{"elements":[{"text_run":{"content":"签署JWT","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"Nf4JdXcpmos7y2xx90DcAQM8nug","block_type":5,"heading3":{"elements":[{"text_run":{"content":"Header参数","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"SZxRd1Hamogyf0xcaD1cLBtyned","block_type":34,"children":["OdZtds1aLokUtgxpUOMcVFyDn1e","H4ePduzcyoSrvTxgC3tcJiZ4nzh","YS0edmVtAoRv4HxfBVGcAsX3nwS","SCMNdjZaeocvHWxd6qtc6SQ3nTd","FAL8dKbEUoY4M6xIoVNcMbySnQc"],"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","quote_container":{}},{"block_id":"OdZtds1aLokUtgxpUOMcVFyDn1e","block_type":2,"parent_id":"SZxRd1Hamogyf0xcaD1cLBtyned","text":{"elements":[{"text_run":{"content":"{","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"H4ePduzcyoSrvTxgC3tcJiZ4nzh","block_type":2,"parent_id":"SZxRd1Hamogyf0xcaD1cLBtyned","text":{"elements":[{"text_run":{"content":"\"alg\": \"RS256\",          // 固定为RS256","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"YS0edmVtAoRv4HxfBVGcAsX3nwS","block_type":2,"parent_id":"SZxRd1Hamogyf0xcaD1cLBtyned","text":{"elements":[{"text_run":{"content":"\"typ\": \"JWT\",            // 固定为 JWT","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"SCMNdjZaeocvHWxd6qtc6SQ3nTd","block_type":2,"parent_id":"SZxRd1Hamogyf0xcaD1cLBtyned","text":{"elements":[{"text_run":{"content":"\"kid\": \"gdehvaDegW.....\" // 刚才创建应用的公钥","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"FAL8dKbEUoY4M6xIoVNcMbySnQc","block_type":2,"parent_id":"SZxRd1Hamogyf0xcaD1cLBtyned","text":{"elements":[{"text_run":{"content":"}","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"HXW9da8TdoN0Qox0NQpcCkEWn5d","block_type":5,"heading3":{"elements":[{"text_run":{"content":"Payload参数","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","block_type":34,"children":["MGOodVj1qouvHZxE9GPcpUfWndc","Gn6TdsZFzorhPlxZ7W5cysDynre","MdjcdmT1boOyOrxsmnhc023bnVc","KStCdWYVxouh8qx4RIdcexEonHd","Cc4Sd2nrkoxbp3xeS0rc7BTWnhf","REFddlZMoozTV5xbTGhcbRgXnjc","G6jAdFjncoQTLXxekgAcWFv0ntb","ZVKTdDDnzoSm7ixOHrXc40rTnOd"],"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","quote_container":{}},{"block_id":"MGOodVj1qouvHZxE9GPcpUfWndc","block_type":2,"parent_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","text":{"elements":[{"text_run":{"content":"{","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Gn6TdsZFzorhPlxZ7W5cysDynre","block_type":2,"parent_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","text":{"elements":[{"text_run":{"content":"\"iss\": \"310000000002\",   // OAuth 应用的 ID","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"MdjcdmT1boOyOrxsmnhc023bnVc","block_type":2,"parent_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","text":{"elements":[{"text_run":{"content":"\"aud\": \"api.coze.cn\",   //扣子 API 的Endpoint，固定","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"KStCdWYVxouh8qx4RIdcexEonHd","block_type":2,"parent_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","text":{"elements":[{"text_run":{"content":"\"iat\": 1516239022,       // 现在的时间戳","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Cc4Sd2nrkoxbp3xeS0rc7BTWnhf","block_type":2,"parent_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","text":{"elements":[{"text_run":{"content":"\"exp\": 1516259022,       // JWT过期时间，秒级时间戳","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"REFddlZMoozTV5xbTGhcbRgXnjc","block_type":2,"parent_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","text":{"elements":[{"text_run":{"content":"\"jti\": \"fhjashjgkhalskj\", // 随机字符串，防止重放攻击","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"G6jAdFjncoQTLXxekgAcWFv0ntb","block_type":2,"parent_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","text":{"elements":[{"text_run":{"content":"\"session_name\":\"1234\"  // 访问令牌的会话标识","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"ZVKTdDDnzoSm7ixOHrXc40rTnOd","block_type":2,"parent_id":"G4rOdbVdBoIjsnxeLBZcZRBfnO3","text":{"elements":[{"text_run":{"content":"}","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"PhKCdb5kMooBoqxz1yXcGHvknMf","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"注意这个session_name参数，这是Chat SDK中实现用户会话隔离的唯一方法。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"QJDxdnpa4oybHexRVWrcrLgjnDg","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"请保证这个参数每个用户是唯一且不重复。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"HOi0dnqLjo4IA6xqGdvcfWiXnwg","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"如果重复或未指定 session_name，不同用户的对话历史可能会掺杂在一起。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"G4U7dvGgLo2XzIxbFcJckabyn1f","block_type":5,"heading3":{"elements":[{"text_run":{"content":"生成JWT","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"QlX4dlaAGoL9oPxqv00crDq6nWf","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"参考以下Python代码，生成JWT","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"PXgNdnci3o0irwx0P3ucjxL7nog","block_type":33,"children":["RhyLd52qroT1kkxsyMpc9ITSnLe"],"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","view":{"view_type":2}},{"block_id":"RhyLd52qroT1kkxsyMpc9ITSnLe","block_type":23,"file":{"name":"generate_jwt.py","token":"HFSObErevoskQ9x4TDmclZBYnwb"},"parent_id":"PXgNdnci3o0irwx0P3ucjxL7nog"},{"block_id":"AiUGdgAOyo75Mmxa1KecYDh5ntg","block_type":27,"image":{"align":2,"height":148,"token":"D5uKbR8JloaxF8xUATdcklEhncd","width":717},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"VtHOddKRVofAYgxEhkoc1jzBnog","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"获取到这段字符串","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"TD3adbkoboa7haxO8HmcNRwknAg","block_type":4,"heading2":{"elements":[{"text_run":{"content":"获取Access Token","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"WtPTdErJlo0aR3x6vaRcvgVYn2f","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"根据以下格式发送请求，即可获取到Access Token","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"EUMJdF5ECobArLxljm0cqQconNE","block_type":14,"code":{"elements":[{"text_run":{"content":"curl --location --request POST 'https://api.coze.cn/api/permission/oauth2/token' \n --header 'Content-Type: application/json' \n --header 'Authorization: Bearer JWT字符串' \n --data '{\n     \"duration_seconds\": 86399,\n     \"grant_type\": \"urn:ietf:params:oauth:grant-type:jwt-bearer\"\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" }'","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"wrap":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"OM6qdXBsSoYhtCxjZjGcNyimnAe","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"对此，继续提供封装好的Python 函数，可以直接调用","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"A3yXd2AAQotvd8xYnH6clumWnGf","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"获取到以下Token","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Z4EudykZsoABPpxGttscdnWenKh","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"获取到这段字符串","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Tb6ddug5JohRR5xWGsdcvW2xncb","block_type":4,"heading2":{"elements":[{"text_run":{"content":"获取Access Token","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"LZDQdyPYNoXiApxAbmAcKUufnVd","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"根据以下格式发送请求，即可获取到Access Token","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"RZoddxnuzoeLnIxfKGscsp5Xnmg","block_type":14,"code":{"elements":[{"text_run":{"content":"curl --location --request POST 'https://api.coze.cn/api/permission/oauth2/token' \n --header 'Content-Type: application/json' \n --header 'Authorization: Bearer JWT字符串' \n --data '{\n     \"duration_seconds\": 86399,\n     \"grant_type\": \"urn:ietf:params:oauth:grant-type:jwt-bearer\"\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" }'","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"wrap":false}},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"MTX9d7yA6oDGxtxylSKcAb0bn9b","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"对此，继续提供封装好的Python 函数，可以直接调用","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"YVT6dOEfOo0bAEx5ptrc0i74nqO","block_type":33,"children":["HAUndMvOCoGaGLxSE3YcPt2RnDe"],"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","view":{"view_type":2}},{"block_id":"HAUndMvOCoGaGLxSE3YcPt2RnDe","block_type":23,"file":{"name":"get_access_token.py","token":"QfyhbkRdnocHBYxx2nycFkKVnXg"},"parent_id":"YVT6dOEfOo0bAEx5ptrc0i74nqO"},{"block_id":"B695dslwQoL6O8xtyjdcifmFn1g","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"获取到以下Token","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"OGm0dFAgboGszKxolQjcfT5xnIc","block_type":27,"image":{"align":2,"height":63,"token":"F4tybeICKod6uYxsSdLcK9Tdn3g","width":690},"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc"},{"block_id":"L4cNdDJkOo7yeaxFStOcaUIynog","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"使用这个Access Token初始化ChatSDK即可实现会话隔离，每个用户看到的聊天记录不同。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"OLXedtI5qoeF3Zxdh3pcwjHjnxh","block_type":2,"parent_id":"Cv2tdAe6ooWURCxjks7cBM7fnDc","text":{"elements":[{"text_run":{"content":"","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}}]}