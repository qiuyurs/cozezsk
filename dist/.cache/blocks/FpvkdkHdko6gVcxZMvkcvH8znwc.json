{"obj_edit_time":"1742716847","blocks":[{"block_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","block_type":1,"children":["SmHKdqjI2oMdT6x4HIVc18KQnid","FHYOd5id2oWgVxxSQV3cYulYn2g","Xhj6dpM7poUSeNxEj1kcU30enGc","UjuIdMKguoDv5Vx0KUScwCwYnCg","CWjad3Vw5odfQQxCS90c43eUnxg","AQG5df6Xjoq2b7xInBRcGpS3nBc","VyiNdTXFNodhRpxmfgucCTVJnTc","I5zWddME9okA6SxzXMKcSt9Wnqh","SeSvdAhfHoeuTdxevbucfZ0ZnhY","LIsvdrlDmoORQ6xkAdFcjC02n1f","XUkLdv78MoZIEexs7k3cvPSWnGe","QnJ2dRgeGoyAxFxyl0wcZMtcn6e","JvEad4QEIote9SxNLbxcQNCXn6e","RkTldvj35o1dvHxVsb7cOmtZnVg","KAt6dxsgwoUkb2xDGUucI8e1nlh","QWTedCzProlWrMxudf5cYVhznec","IEXdd5IfJoyE5ux2mHWcNN5insf","MhCkdyBnVoRQ2WxJzw0cxLJqnGh","Qb97dqfNkojhVbxJaydcEz5Wn4c","QvAgdiLZLoCLITxVNMucuQ7qnRg","DA2tdAu4IoqNzhxHzwVc22MEn4c","F2SHdUNn9oaaq7xGTNmcjXG7nHb","Kf1qdeyFsoJFagxKoLUcTxlfnpb","Uo1idgWmpoFVdWxLICzc5F8enRe","JgfwdrUfBo46RtxjrIPc7A7Ensd","ZXYydN7LCocrXzxh8ovcUcGJnKc","WbkBdyVMBoNYo5xoW5pcHpOKnkB","Y5X8driQVohZMVxAwSNcAM9Anhe","Biw3dXJNsoe4TLxitjPcAT70nih","TRQHdojweodezWxfNrWcwQAknGe","DexUdVWg1osU19xj5A6cQT1hndh","VTwQd8CQroQT4UxmRHacbejHnrd","NQmxdTZWXokrJkxmp34cxRtinjI","N6Old6B3Io3rZOxnmu3cMMZenCI","SK9Kdt5PKoxzIQx5K47cELEVnDb","UahEdNTF6o2bhvxvB8zcwVGDnoe","CjywdsFMvoFhc3xEJ6AcKYbGnUl","Graxde4EgoFNCJxC9R4cFVuinQr","Kc6Wd0fIColkpBxAVxMcwoyZnWe","EcVqd3iQlo8gDvxJZE3cfPVFnGe","VWcmdHr4soZkblxZUW3crEw8npe","GfZ5do8lPoZp1sxL6PrcLIQHnue","MVbmdWEcIoxMMux5HJWc0txEnJg"],"page":{"elements":[{"text_run":{"content":"2.10 变量聚合节点","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1}},"parent_id":""},{"block_id":"SmHKdqjI2oMdT6x4HIVc18KQnid","block_type":50,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","reference_synced":{"source_block_id":"TDNtdeWiDsmKLNbr58QcIIUHnKh","source_document_id":"V3fHdvfwIoScWWxqvo4ctMv7nUE"}},{"block_id":"FHYOd5id2oWgVxxSQV3cYulYn2g","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"工作流变量聚合节点能够将多路分支的输出变量整合为一个，方便下游节点统一配置。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Xhj6dpM7poUSeNxEj1kcU30enGc","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"工作流就像流水线，有时会分成几条支线同时处理不同任务。但最后要把所有支线的结果汇总时，如果其中某些支线没运行，就会出错。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"UjuIdMKguoDv5Vx0KUScwCwYnCg","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"这时候可以加个 \"智能收集箱\"（变量聚合节点）。这个箱子会自动忽略没运行的支线，只收集实际运行的那条支线的结果。比如：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"CWjad3Vw5odfQQxCS90c43eUnxg","block_type":13,"ordered":{"elements":[{"text_run":{"content":"用户说 \"查天气\"，系统就会走天气查询的支线，其他订票、翻译等支线自动跳过","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"AQG5df6Xjoq2b7xInBRcGpS3nBc","block_type":13,"ordered":{"elements":[{"text_run":{"content":"这个收集箱会把天气数据装好，传给后面的步骤使用","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"VyiNdTXFNodhRpxmfgucCTVJnTc","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"它还能分类收集：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"I5zWddME9okA6SxzXMKcSt9Wnqh","block_type":12,"bullet":{"elements":[{"text_run":{"content":"比如同时收集温度（数字）和天气描述（文字），但要分开成两个变量","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"SeSvdAhfHoeuTdxevbucfZ0ZnhY","block_type":12,"bullet":{"elements":[{"text_run":{"content":"每个类别里的数据必须同类型，就像水果和蔬菜要分开装袋","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"LIsvdrlDmoORQ6xkAdFcjC02n1f","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"这样设计的好处是不用担心漏掉哪条支线，后续步骤都能稳定拿到有效数据。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"XUkLdv78MoZIEexs7k3cvPSWnGe","block_type":5,"heading3":{"elements":[{"text_run":{"content":"未使用变量聚合前：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"QnJ2dRgeGoyAxFxyl0wcZMtcn6e","block_type":27,"image":{"align":2,"height":869,"token":"PVbrbzNP2o5RjexccmPcjxYHnre","width":1920},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"JvEad4QEIote9SxNLbxcQNCXn6e","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"需要在结束节点中，返回多个变量。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"RkTldvj35o1dvHxVsb7cOmtZnVg","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"在分支较少时，这样做没问题。但在分支较多时，这样就会显得非常乱。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"KAt6dxsgwoUkb2xDGUucI8e1nlh","block_type":27,"image":{"align":2,"height":869,"token":"Nt5MbS098oO3XGxlxPocYnPwnsf","width":1920},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"QWTedCzProlWrMxudf5cYVhznec","block_type":5,"heading3":{"elements":[{"text_run":{"content":"使用变量聚合后：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"IEXdd5IfJoyE5ux2mHWcNN5insf","block_type":27,"image":{"align":2,"height":869,"token":"PunAb1StToMXZ5xAMj7cvc4InIe","width":1920},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"MhCkdyBnVoRQ2WxJzw0cxLJqnGh","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"在结束节点中，仅需返回一个变量即可","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Qb97dqfNkojhVbxJaydcEz5Wn4c","block_type":4,"heading2":{"elements":[{"text_run":{"content":"配置节点","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"QvAgdiLZLoCLITxVNMucuQ7qnRg","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"聚合策略：目前聚合策略仅支持设置为“返回每个分组中第一个非空的值”","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"DA2tdAu4IoqNzhxHzwVc22MEn4c","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"你可以理解为：有三个候选答案（output1、2、3），选人规则是：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"F2SHdUNn9oaaq7xGTNmcjXG7nHb","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":" 1️⃣ 先看第一个候选答案（output1）","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Kf1qdeyFsoJFagxKoLUcTxlfnpb","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":" 2️⃣ 如果第一个没答案，就选第二个（output2）","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Uo1idgWmpoFVdWxLICzc5F8enRe","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":" 3️⃣ 如果前两个都没有，才用第三个（output3）","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"JgfwdrUfBo46RtxjrIPc7A7Ensd","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"就像选班长投票，第一候选人优先当选，只有他弃权才会轮到第二候选人，以此类推。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"ZXYydN7LCocrXzxh8ovcUcGJnKc","block_type":27,"image":{"align":2,"height":869,"token":"ClnhbDNmUov82oxipglcWo5Rnpd","width":1920},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"WbkBdyVMBoNYo5xoW5pcHpOKnkB","block_type":5,"heading3":{"elements":[{"text_run":{"content":"聚合变量","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"Y5X8driQVohZMVxAwSNcAM9Anhe","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"简单来说：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"Biw3dXJNsoe4TLxitjPcAT70nih","block_type":13,"ordered":{"elements":[{"text_run":{"content":"想合并多个数据时，必须选同类型的。比如只能合并文字和文字，数字和数字。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"TRQHdojweodezWxfNrWcwQAknGe","block_type":13,"ordered":{"elements":[{"text_run":{"content":"支持合并的类型很多：文字、数字、文件、对象、数组等。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"DexUdVWg1osU19xj5A6cQT1hndh","block_type":13,"ordered":{"elements":[{"text_run":{"content":"每次合并只能处理一种类型。比如把 3 个文字合并成一句，或者把 5 个数字合并成一个总和。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"VTwQd8CQroQT4UxmRHacbejHnrd","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"举例：不能把文字和数字混在一起合并，但可以把多个地址文字合并成一个完整地址，或者多个金额数字合并成总金额。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"NQmxdTZWXokrJkxmp34cxRtinjI","block_type":5,"heading3":{"elements":[{"text_run":{"content":"聚合分组","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"N6Old6B3Io3rZOxnmu3cMMZenCI","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"你可以把分组想象成不同的收纳盒：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"SK9Kdt5PKoxzIQx5K47cELEVnDb","block_type":13,"ordered":{"elements":[{"text_run":{"content":"默认有一个叫 \"Group1\" 的盒子，里面只能放同类型的东西（比如全放苹果）","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"UahEdNTF6o2bhvxvB8zcwVGDnoe","block_type":13,"ordered":{"elements":[{"text_run":{"content":"每个盒子最终只能拿出一样东西（输出变量）","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"CjywdsFMvoFhc3xEJ6AcKYbGnUl","block_type":13,"children":["VMfcd9NKAoCpjmxot5AcQ8jgnZg","U6wtdMpHXoGc2txUtjtcghLnnPh"],"ordered":{"elements":[{"text_run":{"content":"如果你要同时拿出苹果和数字，就需要：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"VMfcd9NKAoCpjmxot5AcQ8jgnZg","block_type":12,"bullet":{"elements":[{"text_run":{"content":"准备两个盒子：一个专门放苹果的盒子，一个专门放数字的盒子","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"CjywdsFMvoFhc3xEJ6AcKYbGnUl"},{"block_id":"U6wtdMpHXoGc2txUtjtcghLnnPh","block_type":12,"bullet":{"elements":[{"text_run":{"content":"每次分东西时，把苹果放进苹果盒，数字放进数字盒\n","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}},{"text_run":{"content":" 这样最后就能同时得到两种不同的东西啦！","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"CjywdsFMvoFhc3xEJ6AcKYbGnUl"},{"block_id":"Graxde4EgoFNCJxC9R4cFVuinQr","block_type":4,"heading2":{"elements":[{"text_run":{"content":"输出","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"Kc6Wd0fIColkpBxAVxMcwoyZnWe","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"假设我们要统计不同班级的学生平均分：","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}},{"block_id":"EcVqd3iQlo8gDvxJZE3cfPVFnGe","block_type":13,"ordered":{"elements":[{"text_run":{"content":"按班级分组后，\"Group1\" 就是存放每个班级计算结果的地方（比如一班平均分 90，二班 85）","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"1"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"VWcmdHr4soZkblxZUW3crEw8npe","block_type":13,"ordered":{"elements":[{"text_run":{"content":"如果同时按班级 + 性别分组，就会生成 Group1（班级结果）和 Group2（性别结果）","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"GfZ5do8lPoZp1sxL6PrcLIQHnue","block_type":13,"ordered":{"elements":[{"text_run":{"content":"数据格式取决于你统计什么：算平均分会得到数字，统计人数可能得到整数，统计学生名单会得到文本列表","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false,"sequence":"auto"}},"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc"},{"block_id":"MVbmdWEcIoxMMux5HJWc0txEnJg","block_type":2,"parent_id":"FpvkdkHdko6gVcxZMvkcvH8znwc","text":{"elements":[{"text_run":{"content":"就像把水果分类装筐，每个筐（Group）有自己的统计方式（比如称重量 / 数个数），筐上会自动贴好 Group1、Group2 的标签。","text_element_style":{"bold":false,"inline_code":false,"italic":false,"strikethrough":false,"underline":false}}}],"style":{"align":1,"folded":false}}}]}